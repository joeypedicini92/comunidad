<!-- This example requires Tailwind CSS v2.0+ -->
<div class="flex-shrink-0">
  <label id="listbox-label" class="sr-only"> Set Post Permission Level </label>
  <div class="relative inline-flex items-center ">

    <button type="button" (click)="isOpen = !isOpen;"
      class="relative inline-flex items-center whitespace-nowrap bg-transparent py-2 px-2 text-sm font-medium text-gray-500 sm:px-3"
      aria-haspopup="listbox" aria-expanded="true" aria-labelledby="listbox-label">
      <p class="ml-2.5 mr-1 text-sm font-medium text-gray-500">{{selectedPermission?.permission_display || ''}}</p>

      <!--
                                                    Heroicon name: mini/lock

                                                    Selected: "text-gray-300", Default: "text-gray-500"
                                                  -->
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
        class="w-6 h-6">
        <path stroke-linecap="round" stroke-linejoin="round"
          d="M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z" />
      </svg>
      <!-- Selected: "text-gray-900" -->

      </button>

    <!--
                  Select popover, show/hide based on select state.

                  Entering: ""
                    From: ""
                    To: ""
                  Leaving: "transition ease-in duration-100"
                    From: "opacity-100"
                    To: "opacity-0"
                -->
    <ul *ngIf="isOpen"
      class="absolute right-0 z-10 mt-2 w-72 origin-top-right divide-y divide-gray-200 overflow-hidden rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"
      tabindex="-1" role="listbox" aria-labelledby="listbox-label" aria-activedescendant="listbox-option-0">
      <!--
                    Select option, manage highlight styles based on mouseenter/mouseleave and keyboard navigation.

                    Highlighted: "text-white bg-indigo-500", Not Highlighted: "text-gray-900"
                  -->
      <li *ngFor="let permission of permissionLevels" (click)="selectPermissionLevel(permission)"
        class="text-gray-900 cursor-default select-none p-4 text-sm" id="listbox-option-0" role="option">
        <div class="flex flex-col cursor-pointer">
          <div class="flex justify-between">
            <!-- Selected: "font-semibold", Not Selected: "font-normal" -->
            <p class="font-normal">{{permission.permission_display}}</p>
            <!--
                          Checkmark, only display for selected option.

                          Highlighted: "text-white", Not Highlighted: "text-indigo-500"
                        -->
            <span *ngIf="selectedPermission === permission" class="text-indigo-500">
              <!-- Heroicon name: mini/check -->
              <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                <path fill-rule="evenodd"
                  d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"
                  clip-rule="evenodd" />
              </svg>
            </span>
          </div>
          <!-- Highlighted: "text-indigo-200", Not Highlighted: "text-gray-500" -->
          <p class="text-gray-500 mt-2">{{permission.permission_description || ''}}</p>
        </div>
      </li>

      <!-- More items... -->
    </ul>
  </div>
</div>
